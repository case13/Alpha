unit uFilialController;

interface
uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, FireDAC.Stan.Intf, FireDAC.Stan.Option,
  FireDAC.Stan.Error, FireDAC.UI.Intf, FireDAC.Phys.Intf, FireDAC.Stan.Def,
  FireDAC.Stan.Pool, FireDAC.Stan.Async, FireDAC.Phys, FireDAC.VCLUI.Wait,
  FireDAC.Stan.Param, FireDAC.DatS, FireDAC.DApt.Intf, FireDAC.DApt, Data.DB,
  FireDAC.Comp.DataSet, FireDAC.Comp.Client, Vcl.StdCtrls, Vcl.Buttons,
  FireDAC.Phys.FBDef, FireDAC.Phys.IBBase, FireDAC.Phys.FB,
  System.JSON, Data.DBXJSON, REST.JSON, uFilialModel, uIFilialController;

  type
     TEmpresaController = class(TInterfacedObject, IFilialController)
     public
       function Incluir(FilialJSON: TJSONObject): string;
       function Alterar(FilialJSON: TJSONObject): string;
       function ConsultarFilialId(Id : integer) : TJSONObject;
       function ConsultarFilialLike(campo, filtro, ordenar : string) : TJSONObject;
     end;

implementation

{ TEmpresaController }

function TEmpresaController.Alterar(FilialJSON: TJSONObject): string;
begin
 var Model := TFilialModel.Create;
 result := Model.Alterar(FilialJSON);
end;

function TEmpresaController.ConsultarFilialId(Id: integer): TJSONObject;
begin
 var Model := TFilialModel.Create;
 result := Model.ConsultarFilialId(Id);
end;

function TEmpresaController.ConsultarFilialLike(campo, filtro,
  ordenar: string): TJSONObject;
begin
  var Model := TFilialModel.Create;
  result := Model.ConsultarFilialLike(campo, filtro, ordenar);
end;

function TEmpresaController.Incluir(FilialJSON: TJSONObject): string;
begin
  var Model := TFilialModel.Create;
  Result := Model.Incluir(FilialJSON);
end;

end.
